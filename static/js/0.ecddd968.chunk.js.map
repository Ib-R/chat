{"version":3,"sources":["../static/js/0.ecddd968.chunk.js","components/Room.js","util/socket.js"],"names":["webpackJsonp","51","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1__util_util__","__WEBPACK_IMPORTED_MODULE_2__util_socket__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","Room","_Component","this","getPrototypeOf","apply","arguments","room","connect","emit","username","prevProps","disconnect","_props","logout","a","createElement","id","className","onClick","data-toggle","data-target","tabIndex","role","aria-labelledby","aria-hidden","type","data-dismiss","aria-label","onSubmit","autoComplete","onInput","name","placeholder","htmlFor","onChange","style","display","title","position","width","height","top","border","src","52","updateRoomDetails","data","roomName","document","getElementById","membersCount","members","innerHTML","insertAdjacentHTML","capitalize","users","forEach","user","string","charAt","toUpperCase","slice","spawnNotification","theBody","theIcon","theTitle","hasFocus","window","Push","body","icon","timeout","focus","close","updateScroll","$chat","querySelector","scrollTop","scrollHeight","messageSubmit","e","$message","preventDefault","msg","__WEBPACK_IMPORTED_MODULE_0__util__","socket","d","Typing","imgUpload","timer","io","on","$typing","classList","add","clearTimeout","setTimeout","remove","$imgUpload","FormData","files","append","fetch","method","then","res","json","catch","alert","console","log","time"],"mappings":"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","file":"static/js/0.ecddd968.chunk.js","sourcesContent":["webpackJsonp([0],{\n\n/***/ 51:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__util_util__ = __webpack_require__(12);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__util_socket__ = __webpack_require__(52);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Room=function(_Component){_inherits(Room,_Component);function Room(){_classCallCheck(this,Room);return _possibleConstructorReturn(this,(Room.__proto__||Object.getPrototypeOf(Room)).apply(this,arguments));}_createClass(Room,[{key:\"componentDidMount\",value:function componentDidMount(){var room=this.props.room;__WEBPACK_IMPORTED_MODULE_2__util_socket__[\"d\" /* socket */].connect();__WEBPACK_IMPORTED_MODULE_2__util_socket__[\"d\" /* socket */].emit(\"joinRoom\",{username:Object(__WEBPACK_IMPORTED_MODULE_1__util_util__[\"a\" /* GetCookie */])(\"username\"),room:room});}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var room=this.props.room;if(prevProps.room!==room){__WEBPACK_IMPORTED_MODULE_2__util_socket__[\"d\" /* socket */].disconnect();__WEBPACK_IMPORTED_MODULE_2__util_socket__[\"d\" /* socket */].connect();__WEBPACK_IMPORTED_MODULE_2__util_socket__[\"d\" /* socket */].emit(\"joinRoom\",{username:Object(__WEBPACK_IMPORTED_MODULE_1__util_util__[\"a\" /* GetCookie */])(\"username\"),room:room});}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){__WEBPACK_IMPORTED_MODULE_2__util_socket__[\"d\" /* socket */].disconnect();}},{key:\"render\",value:function render(){var _props=this.props,logout=_props.logout,room=_props.room;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"div\",null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"div\",{id:\"chat-h\",className:\"fixed-top\"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"span\",{onClick:logout,className:\"btn btn-danger float-right\"},\"Logout\"),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"div\",{id:\"roomHead\"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"p\",{id:\"roomName\"},room),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"small\",{id:\"membersCount\",\"data-toggle\":\"modal\",\"data-target\":\"#membersModal\"}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"small\",{id:\"typing\"}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"div\",{className:\"modal fade\",id:\"membersModal\",tabIndex:\"-1\",role:\"dialog\",\"aria-labelledby\":\"exampleModalLabel\",\"aria-hidden\":\"true\"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"div\",{className:\"modal-dialog\",role:\"document\"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"div\",{className:\"modal-content\"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"div\",{className:\"modal-header\"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"h5\",{className:\"modal-title\",id:\"exampleModalLabel\"},\"Room Members\"),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"button\",{type:\"button\",className:\"close\",\"data-dismiss\":\"modal\",\"aria-label\":\"Close\"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"span\",{\"aria-hidden\":\"true\"},\"\\xD7\"))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"div\",{className:\"modal-body\"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"ul\",{id:\"members\"})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"div\",{className:\"modal-footer\"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"button\",{type:\"button\",className:\"btn btn-primary\",\"data-dismiss\":\"modal\"},\"Close\"))))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"div\",{id:\"messageArea\",className:\"container row\"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"ul\",{className:\"chat\",id:\"chat\"}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"div\",{className:\"fixed-bottom row justify-content-md-center\"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"form\",{onSubmit:__WEBPACK_IMPORTED_MODULE_2__util_socket__[\"c\" /* messageSubmit */],id:\"messageForm\",className:\"col col-md-8 row\",autoComplete:\"off\"},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"label\",{className:\"sr-only\"},\"Enter Message\"),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"input\",{onInput:__WEBPACK_IMPORTED_MODULE_2__util_socket__[\"a\" /* Typing */],name:\"message\",type:\"text\",className:\"form-control\",id:\"message\",placeholder:\"Enter Message\"}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"input\",{type:\"submit\",className:\"btn btn-primary\",id:\"msg-submit\",value:\"Send\"}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"label\",{id:\"imgBtn\",className:\"btn btn-primary\",htmlFor:\"imgUploadInput\"},\"\\u26F6\"),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"input\",{onChange:__WEBPACK_IMPORTED_MODULE_2__util_socket__[\"b\" /* imgUpload */],type:\"file\",style:{display:\"none\"},name:\"img\",id:\"imgUploadInput\"})))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(\"iframe\",{title:\"background\",style:{position:\"absolute\",width:\"100%\",height:\"100%\",top:\"0\",border:\"none\"},src:\"bg/index.html\"}));}}]);return Room;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"default\"] = (Room);\n\n/***/ }),\n\n/***/ 52:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return socket; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return Typing; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return imgUpload; });\n/* harmony export (immutable) */ __webpack_exports__[\"c\"] = messageSubmit;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__util__ = __webpack_require__(12);\nvar socket=window.io.connect('//'+Object(__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* GetCookie */])('server'));var timer;function updateRoomDetails(data){var roomName=document.getElementById(\"roomName\"),membersCount=document.getElementById(\"membersCount\"),members=document.getElementById(\"members\");roomName.innerHTML=\"\";members.innerHTML=\"\";roomName.insertAdjacentHTML('beforeend',capitalize(data.room));membersCount.innerHTML=data.users.length+' members';data.users.forEach(function(user,i){// if(nameList){ // Check if username already exists\nmembers.insertAdjacentHTML('beforeend','<li>'+user.username+'</li>');// }\n});}function capitalize(string){return string.charAt(0).toUpperCase()+string.slice(1);}// Init Notfication\nfunction spawnNotification(theBody,theIcon,theTitle){if(!document.hasFocus()){window.Push.create(theTitle,{body:theBody,icon:'https://image.flaticon.com/teams/slug/freepik.jpg',timeout:4000,onClick:function onClick(){window.focus();this.close();}});}}function updateScroll(){var $chat=document.querySelector('#chat');$chat.scrollTop=$chat.scrollHeight;}// Show typing status\nvar Typing=function Typing(){socket.emit('typing',Object(__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* GetCookie */])(\"username\"));};socket.on('typing',function(data){var $typing=document.querySelector('#typing'),membersCount=document.getElementById(\"membersCount\");membersCount.classList.add(\"d-none\");$typing.innerHTML=data+' is typing...';clearTimeout(timer);timer=setTimeout(function(){$typing.innerHTML='';membersCount.classList.remove(\"d-none\");},700);});socket.on(\"roomUsers\",function(data){updateRoomDetails(data);});// File upload\nvar imgUpload=function imgUpload(e){var $imgUpload=document.querySelector('#imgUploadInput');var data=new FormData();if($imgUpload.files[0]!=null){data.append('img',$imgUpload.files[0]);data.append('username',Object(__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* GetCookie */])('username'));fetch('//'+Object(__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* GetCookie */])('server')+'/upload',{body:data,method:'POST'}).then(function(res){return res.json();}).then(function(data){// alert(data.message);\n}).catch(function(){alert('error');});}console.log($imgUpload.files[0]);};function messageSubmit(e){var $message=document.querySelector('#message');var data={};e.preventDefault();data={msg:$message.value,user:Object(__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* GetCookie */])(\"username\")};socket.emit('send message',data);$message.value=\"\";}socket.on('new message',function(data){var $chat=document.querySelector('#chat');if(data.user===Object(__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* GetCookie */])(\"username\")){$chat.insertAdjacentHTML('beforeend','<div class=\"float-right own-msg bg-secondary\">\\n                <strong class=\"username\">'+data.user+'</strong>\\n                <p class=\"text-light\">'+data.msg+' <small>'+data.time+'</small></p>\\n            </div>\\n            <div class=\"clearfix\"></div>');}else{$chat.insertAdjacentHTML('beforeend','<div class=\"bg-primary float-left msg\"><p class=\"text-light\"><strong>'+data.user+'</strong>: '+data.msg+'</p></div><div class=\"clearfix\"></div>');// updateUserHead(data.user);\nspawnNotification('You Got new Message','https://image.flaticon.com/teams/slug/freepik.jpg','New Message');}updateScroll();});socket.on('show image',function(data){var $chat=document.querySelector('#chat');if(data.user===Object(__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* GetCookie */])(\"username\")){$chat.insertAdjacentHTML('beforeend','<div class=\"float-right own-msg bg-secondary\">\\n                <a data-fancybox=\"ownGallery\" href=\"//'+Object(__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* GetCookie */])('server')+'/uploads/'+data.msg+'\">\\n                    <figure class=\"figure\">\\n                        <img id=\"img\" src=\"//'+Object(__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* GetCookie */])('server')+'/uploads/'+data.msg+'\">\\n                        <figcaption class=\"figure-caption d-flex justify-content-between\">\\n                            <strong>'+data.user+'</strong> \\n                            <small>'+data.time+'</small>\\n                        </figcaption>\\n                    </figure>\\n                </a>\\n            </div>\\n            <div class=\"clearfix\"></div>');}else{$chat.insertAdjacentHTML('beforeend','<div class=\"bg-primary float-left msg\">\\n                <a data-fancybox=\"gallery\" href=\"//'+Object(__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* GetCookie */])('server')+'/uploads/'+data.msg+'\">\\n                    <figure class=\"figure\">\\n                        <img id=\"img\" src=\"//'+Object(__WEBPACK_IMPORTED_MODULE_0__util__[\"a\" /* GetCookie */])('server')+'/uploads/'+data.msg+'\">\\n                        <figcaption class=\"figure-caption d-flex justify-content-between\">\\n                            <strong>'+data.user+'</strong>\\n                            <small>'+data.time+'</small>\\n                        </figcaption>\\n                    </figure>\\n                </a>\\n            </div>\\n            <div class=\"clearfix\"></div>');}updateScroll();});\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/0.ecddd968.chunk.js","import React, { Component } from \"react\";\r\nimport {GetCookie} from \"../util/util\"\r\nimport { socket, messageSubmit, Typing, imgUpload } from \"../util/socket\";\r\n\r\nclass Room extends Component {\r\n\tcomponentDidMount() {\r\n\t\tconst {room} = this.props;\r\n\r\n\t\tsocket.connect();\r\n\r\n\t\tsocket.emit(\"joinRoom\", {\r\n\t\t\tusername: GetCookie(\"username\"),\r\n\t\t\troom\r\n\t\t});\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tconst {room} = this.props;\r\n\t\tif(prevProps.room !== room){\r\n\t\t\tsocket.disconnect();\r\n\t\t\tsocket.connect();\r\n\r\n\t\t\tsocket.emit(\"joinRoom\", {\r\n\t\t\t\tusername: GetCookie(\"username\"),\r\n\t\t\t\troom\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount(){\r\n\t\tsocket.disconnect();\r\n\t}\r\n\r\n\trender() {\r\n        const { logout, room } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div>\r\n\t\t\t\t<div id=\"chat-h\" className=\"fixed-top\">\r\n                    <span onClick={logout} className=\"btn btn-danger float-right\">Logout</span>\r\n\t\t\t\t\t<div id=\"roomHead\">\r\n\t\t\t\t\t\t<p id=\"roomName\">{room}</p>\r\n\t\t\t\t\t\t<small id=\"membersCount\" data-toggle=\"modal\" data-target=\"#membersModal\"></small>\r\n\t\t\t\t\t\t<small id=\"typing\"></small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* Members Modal */}\r\n\t\t\t\t<div className=\"modal fade\" id=\"membersModal\" tabIndex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\"\r\n\t\t\t\t\taria-hidden=\"true\">\r\n\t\t\t\t\t<div className=\"modal-dialog\" role=\"document\">\r\n\t\t\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\t\t\t\t<div className=\"modal-header\">\r\n\t\t\t\t\t\t\t\t<h5 className=\"modal-title\" id=\"exampleModalLabel\">\r\n\t\t\t\t\t\t\t\t\tRoom Members\r\n\t\t\t\t\t\t\t\t</h5>\r\n\t\t\t\t\t\t\t\t<button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n\t\t\t\t\t\t\t\t\t<span aria-hidden=\"true\">&times;</span>\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"modal-body\">\r\n\t\t\t\t\t\t\t\t<ul id=\"members\"></ul>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"modal-footer\">\r\n\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-primary\" data-dismiss=\"modal\">\r\n\t\t\t\t\t\t\t\t\tClose\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{/* Members Modal:END */}\r\n\r\n\t\t\t\t<div id=\"messageArea\" className=\"container row\">\r\n\t\t\t\t\t<ul className=\"chat\" id=\"chat\"></ul>\r\n\t\t\t\t\t<div className=\"fixed-bottom row justify-content-md-center\">\r\n\t\t\t\t\t\t<form\r\n\t\t\t\t\t\t\tonSubmit={messageSubmit}\r\n\t\t\t\t\t\t\tid=\"messageForm\"\r\n\t\t\t\t\t\t\tclassName=\"col col-md-8 row\"\r\n\t\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<label className=\"sr-only\">Enter Message</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tonInput={Typing}\r\n\t\t\t\t\t\t\t\tname=\"message\"\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t\t\t\tid=\"message\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"Enter Message\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-primary\"\r\n\t\t\t\t\t\t\t\tid=\"msg-submit\"\r\n\t\t\t\t\t\t\t\tvalue=\"Send\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{/* Image sharing */}\r\n\t\t\t\t\t\t\t<label\r\n\t\t\t\t\t\t\t\tid=\"imgBtn\"\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-primary\"\r\n\t\t\t\t\t\t\t\thtmlFor=\"imgUploadInput\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t&#9974;\r\n\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\tonChange={imgUpload}\r\n\t\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\t\tstyle={{ display: \"none\" }}\r\n\t\t\t\t\t\t\t\tname=\"img\"\r\n\t\t\t\t\t\t\t\tid=\"imgUploadInput\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</form>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<iframe\r\n\t\t\t\t\ttitle=\"background\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\tposition: \"absolute\",\r\n\t\t\t\t\t\twidth: \"100%\",\r\n\t\t\t\t\t\theight: \"100%\",\r\n\t\t\t\t\t\ttop: \"0\",\r\n\t\t\t\t\t\tborder: \"none\",\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tsrc=\"bg/index.html\"\r\n\t\t\t\t></iframe>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default Room;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Room.js","import {GetCookie} from \"./util\"\r\nexport const socket = window.io.connect('//'+GetCookie('server'));\r\n\r\nvar timer;\r\n\r\nfunction updateRoomDetails(data) {\r\n    const roomName = document.getElementById(\"roomName\"),\r\n    membersCount = document.getElementById(\"membersCount\"),\r\n    members = document.getElementById(\"members\");\r\n\r\n    roomName.innerHTML = \"\";\r\n    members.innerHTML = \"\";\r\n    roomName.insertAdjacentHTML('beforeend', capitalize(data.room));\r\n    membersCount.innerHTML = `${data.users.length} members`;\r\n    data.users.forEach((user, i) => {\r\n        // if(nameList){ // Check if username already exists\r\n        members.insertAdjacentHTML('beforeend',`<li>${user.username}</li>`);\r\n        // }\r\n    });\r\n}\r\n\r\nfunction capitalize(string) {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n}\r\n    \r\n// Init Notfication\r\nfunction spawnNotification(theBody,theIcon,theTitle) {\r\n    if(!document.hasFocus()){\r\n        window.Push.create(theTitle, {\r\n        body: theBody,\r\n        icon: 'https://image.flaticon.com/teams/slug/freepik.jpg',\r\n        timeout: 4000,\r\n        onClick: function () {\r\n            window.focus();\r\n            this.close();\r\n                }\r\n            });\r\n        }\r\n    }   \r\n\r\nfunction updateScroll(){\r\n    const $chat = document.querySelector('#chat');\r\n    $chat.scrollTop = $chat.scrollHeight;\r\n}\r\n\r\n\r\n// Show typing status\r\nexport const Typing = ()=>{\r\n    socket.emit('typing', GetCookie(\"username\"));\r\n};\r\n\r\nsocket.on('typing', (data)=>{\r\n    const $typing = document.querySelector('#typing'),\r\n        membersCount = document.getElementById(\"membersCount\");\r\n\r\n    membersCount.classList.add(\"d-none\");\r\n    $typing.innerHTML = data+' is typing...';\r\n    clearTimeout(timer);\r\n    timer = setTimeout(()=>{\r\n            $typing.innerHTML ='';\r\n            membersCount.classList.remove(\"d-none\");\r\n        }, 700);\r\n});\r\n\r\nsocket.on(\"roomUsers\", data => {\r\n    updateRoomDetails(data);\r\n});\r\n\r\n// File upload\r\nexport const imgUpload =  (e)=>{\r\n    const $imgUpload = document.querySelector('#imgUploadInput');\r\n    var data = new FormData();\r\n    if($imgUpload.files[0] != null){\r\n        data.append('img', $imgUpload.files[0]);\r\n        data.append('username', GetCookie('username'));\r\n\r\n        fetch('//'+GetCookie('server')+'/upload', {\r\n            body: data,\r\n            method: 'POST',\r\n        })\r\n        .then(res => res.json())\r\n        .then(function(data){\r\n            // alert(data.message);\r\n        })\r\n        .catch(() => {\r\n            alert('error');\r\n        });\r\n    }\r\n    console.log($imgUpload.files[0]);\r\n   \r\n};\r\n\r\nexport function messageSubmit(e){\r\n    const $message = document.querySelector('#message');\r\n    var data = {}\r\n    e.preventDefault();\r\n    data = {msg: $message.value, user:GetCookie(\"username\")};\r\n    socket.emit('send message', data);\r\n    $message.value = \"\";\r\n}\r\n\r\nsocket.on('new message', (data)=>{\r\n    const $chat = document.querySelector('#chat');\r\n    if(data.user === GetCookie(\"username\")){\r\n        $chat.insertAdjacentHTML('beforeend',\r\n            `<div class=\"float-right own-msg bg-secondary\">\r\n                <strong class=\"username\">${data.user}</strong>\r\n                <p class=\"text-light\">${data.msg} <small>${data.time}</small></p>\r\n            </div>\r\n            <div class=\"clearfix\"></div>`);\r\n    }else{\r\n        $chat.insertAdjacentHTML('beforeend','<div class=\"bg-primary float-left msg\"><p class=\"text-light\"><strong>'+data.user+'</strong>: '+data.msg+'</p></div><div class=\"clearfix\"></div>');\r\n        // updateUserHead(data.user);\r\n        spawnNotification('You Got new Message','https://image.flaticon.com/teams/slug/freepik.jpg','New Message');\r\n    }\r\n    updateScroll()\r\n});\r\nsocket.on('show image', (data)=>{\r\n    const $chat = document.querySelector('#chat');\r\n    if(data.user === GetCookie(\"username\")){\r\n        $chat.insertAdjacentHTML('beforeend',\r\n            `<div class=\"float-right own-msg bg-secondary\">\r\n                <a data-fancybox=\"ownGallery\" href=\"//${GetCookie('server')}/uploads/${data.msg}\">\r\n                    <figure class=\"figure\">\r\n                        <img id=\"img\" src=\"//${GetCookie('server')}/uploads/${data.msg}\">\r\n                        <figcaption class=\"figure-caption d-flex justify-content-between\">\r\n                            <strong>${data.user}</strong> \r\n                            <small>${data.time}</small>\r\n                        </figcaption>\r\n                    </figure>\r\n                </a>\r\n            </div>\r\n            <div class=\"clearfix\"></div>`);\r\n    }else{\r\n        $chat.insertAdjacentHTML('beforeend',\r\n            `<div class=\"bg-primary float-left msg\">\r\n                <a data-fancybox=\"gallery\" href=\"//${GetCookie('server')}/uploads/${data.msg}\">\r\n                    <figure class=\"figure\">\r\n                        <img id=\"img\" src=\"//${GetCookie('server')}/uploads/${data.msg}\">\r\n                        <figcaption class=\"figure-caption d-flex justify-content-between\">\r\n                            <strong>${data.user}</strong>\r\n                            <small>${data.time}</small>\r\n                        </figcaption>\r\n                    </figure>\r\n                </a>\r\n            </div>\r\n            <div class=\"clearfix\"></div>`);\r\n    }\r\n    updateScroll()\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/util/socket.js"],"sourceRoot":""}